<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="castle" type="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor" />
    <section name="rhino.esb" type="Rhino.ServiceBus.Config.BusConfigurationSection, Rhino.ServiceBus" />
  </configSections>

  <connectionStrings>
    <add name="RsbInbox" connectionString="Server=localhost;Port=3306;Database=rsbinbox;User ID=rsbinbox;Password=rsbinbox!!;default command timeout=60;connect timeout=60;Max Pool Size=50;Connection Lifetime=300;" />
  </connectionStrings>

  <rhino.esb>
    <assemblies>
      <add assembly="Rhino.ServiceBus.RhinoQueues" />
    </assemblies>
    <bus threadCount="1" numberOfRetries="5" endpoint="msmq://localhost/test_queue" queueIsolationLevel="ReadCommitted" />
    <messages>
      <add name="Rhino.ServiceBus.Tests" endpoint="msmq://localhost/test_queue" />
      <add name="Rhino.ServiceBus.Tests" endpoint="msmq://localhost/test_queue2" />
    </messages>
  </rhino.esb>

  <castle>
		<components>
			<component id="dht">
				<parameters>
					<metadata>
						<node>
							<primary>
								<sync>net.tcp://localhost:8128/dht.metadata</sync>
							</primary>
							<secondary>
								<sync>net.tcp://localhost:8129/dht.metadata</sync>
							</secondary>
							<tertiary>
								<sync>net.tcp://localhost:8127/dht.metadata</sync>
							</tertiary>
						</node>
					</metadata>
				</parameters>
			</component>
		</components>
  </castle>

  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Common.Logging" publicKeyToken="af08829b84f0328e" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.1.1.0" newVersion="2.1.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Rhino.Queues" publicKeyToken="0b3305902db7183f" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.1.0.0" newVersion="2.1.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  
<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5.2" /></startup><system.data>
    <DbProviderFactories>
      <remove invariant="MySql.Data.MySqlClient" />
      <add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient" description=".Net Framework Data Provider for MySQL" type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.9.8.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d" />
    </DbProviderFactories>
  </system.data></configuration>
